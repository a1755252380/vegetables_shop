(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/order"],{"25da":function(t,e,a){"use strict";a.r(e);var n=a("9474"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=r.a},"5f80":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var r=function(){var t=this,e=t.$createElement,a=(t._self._c,t.loadingshow?null:t.__map(t.tabdata,(function(e,a){var n=t.__get_orig(e),r=t.orderStateExp(e.flag),o=t.orderStateExp(e.flag);return{$orig:n,m0:r,m1:o}})));t.$mp.data=Object.assign({},{$root:{l0:a}})},o=[]},"609c":function(t,e,a){},9474:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){a.e("components/empty").then(function(){return resolve(a("6e60"))}.bind(null,a)).catch(a.oe)},r=function(){a.e("components/sloading").then(function(){return resolve(a("8881"))}.bind(null,a)).catch(a.oe)},o={components:{empty:n,sloading:r},filters:{dateformat:function(t){return new Date(t)}},data:function(){return{tabCurrentIndex:0,navdata:[],loadingshow:!1,navList:[{state:0,text:"全部",loadingType:"more",orderList:[]},{state:1,text:"待付款",loadingType:"more",orderList:[]},{state:2,text:"待收货",loadingType:"more",orderList:[]},{state:4,text:"已完成",loadingType:"more",orderList:[]}]}},computed:{tabdata:{get:function(){return this.navdata},set:function(t){this.navdata=t}}},onLoad:function(t){this.tabCurrentIndex=+t.state,0==t.state&&this.loadData()},methods:{loadData:function(t){var e=this.tabCurrentIndex,a=this.navList[e],n=(a.state,this);this.navList=[{state:0,text:"全部",loadingType:"more",orderList:[]},{state:1,text:"待付款",loadingType:"more",orderList:[]},{state:2,text:"待收货",loadingType:"more",orderList:[]},{state:4,text:"已完成",loadingType:"more",orderList:[]}],this.$myRequest({url:"/getAllshopOrder?userId="+this.$store.state.userInfo.id,method:"GET"}).then((function(t){console.log(t.data.data);for(var e=t.data.data,a=0;a<t.data.data.length;a++)0==e[a].flag&&n.navList[1].orderList.push(e[a]),1==e[a].flag&&n.navList[2].orderList.push(e[a]),2!=e[a].flag&&3!=e[a].flag||n.navList[3].orderList.push(e[a]),n.navList[0].orderList.push(e[a]);console.log(n.navList[0].orderList),n.tabdata=n.navList[0].orderList}))},tabClick:function(t){this.tabCurrentIndex=t,this.navdata=this.navList[t].orderList,this.$forceUpdate()},deleteOrder:function(e){var a=this;t.showLoading({title:"请稍后"}),setTimeout((function(){a.navList[a.tabCurrentIndex].orderList.splice(e,1),t.hideLoading()}),600)},cancelOrder:function(t){var e=this;this.loadingshow=!0,this.changorder(3,t.id),setTimeout((function(){e.loadingshow=!1,e.$forceUpdate()}),600)},payOrder:function(e){var a={goodid:e.id,price:e.money};t.redirectTo({url:"/pages/money/payorder?goods=".concat(JSON.stringify({goods:a}))})},changorder:function(t,e){var a=this;this.$myRequest({url:"/updateShopOrder?flag="+t+"&orderId="+e,method:"GET"}).then((function(t){console.log(t.data.data),a.loadData()}))},orderStateExp:function(t){var e="",a="#fa436a";switch(t){case 0:e="待付款";break;case 1:e="待收货";break;case 3:e="订单已关闭",a="#909399";break;case 2:e="已完成",a="#909399";break}return{stateTip:e,stateTipColor:a}}}};e.default=o}).call(this,a("543d")["default"])},b007:function(t,e,a){"use strict";a.r(e);var n=a("5f80"),r=a("25da");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);a("cb83");var i,s=a("f0c5"),d=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=d.exports},b269:function(t,e,a){"use strict";(function(t){a("9719");n(a("66fd"));var e=n(a("b007"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=a,t(e.default)}).call(this,a("543d")["createPage"])},cb83:function(t,e,a){"use strict";var n=a("609c"),r=a.n(n);r.a}},[["b269","common/runtime","common/vendor"]]]);