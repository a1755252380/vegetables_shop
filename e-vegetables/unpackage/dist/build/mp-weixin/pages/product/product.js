(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/product"],{"04c6":function(t,e,n){"use strict";n.r(e);var a=n("6cd9"),o=n("412e");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("fddb");var i,u=n("f0c5"),c=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);e["default"]=c.exports},"412e":function(t,e,n){"use strict";n.r(e);var a=n("b4d3"),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},"4a30":function(t,e,n){},"6cd9":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},r=[]},7181:function(t,e,n){"use strict";(function(t){n("9719");a(n("66fd"));var e=a(n("04c6"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},b4d3:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("a34a"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a,o,r,i){try{var u=t[r](i),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(a,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function u(t){r(i,a,o,u,c,"next",t)}function c(t){r(i,a,o,u,c,"throw",t)}u(void 0)}))}}var u=function(){n.e("pages/product/product/grade").then(function(){return resolve(n("dc88"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("pages/product/product/choosenum").then(function(){return resolve(n("47f6"))}.bind(null,n)).catch(n.oe)},s={components:{grade:u,choosenum:c},data:function(){return{specClass:"none",specSelected:[],specifications:[],favorite:!0,good:{},shareList:{num:1,price:0},imgList:[],desc:""}},onLoad:function(t){var e=this;return i(a.default.mark((function n(){var o,r;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=t.id,!o){n.next=6;break}if(r=e,!o){n.next=6;break}return n.next=6,e.$myRequest({url:"/findGoods?goodsId="+o,method:"GET"}).then((function(t){r.good=t.data.data,console.log(r.good),r.imgList.push(t.data.data.image1),r.imgList.push(t.data.data.image2),r.desc='<div style="width:100%">\n\t\t\t\t\t\t<img style="width:100%;display:block;" src="'+t.data.data.imageDetail1+'" />\n\t\t\t\t\t\t<img style="width:100%;display:block;" src="'+t.data.data.imageDetail1+'" />\n\t\t\t\n\t\t\t\t\t</div>',r.specifications=[{num:1,pricesum:1*t.data.data.price,show:!0},{num:5,pricesum:parseFloat(.85*t.data.data.price).toFixed(2),show:!1},{num:10,pricesum:parseFloat(.8*t.data.data.price).toFixed(2),show:!1}],r.good["visited"]=parseInt(1e5*Math.random())}));case 6:case"end":return n.stop()}}),n)})))()},methods:{choosenumvalue:function(t){this.shareList.num=t.num,this.shareList.price=t.price},toFavorite:function(){this.favorite=!this.favorite},buy:function(){t.navigateTo({url:"/pages/order/productcreateOrder?data=".concat(JSON.stringify({goodsData:this.good}))})},tabnavto:function(e){t.switchTab({url:e,success:function(t){var e=getCurrentPages().pop();void 0!=e&&null!=e&&e.onLoad()}})},toggleSpec:function(){var e=this;return i(a.default.mark((function n(){var o,r,i;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e.good.id),o=e.good.id,r=e.$store.state.userInfo.id,i=e.shareList.num,n.next=6,e.$myRequest({url:"/addGoodsToCart?goodsId="+o+"&userId="+r+"&number="+i,method:"GET"}).then((function(n){console.log(n.data),t.showToast({title:"已加入购物车",duration:1e3});var a=e.$store.state.userInfo.id,o=e;e.$myRequest({url:"/getShopCartList?userId="+a,method:"GET"}).then((function(t){for(var e=t.data.data,n=0;n<t.data.data.length;n++)e[n]["checked"]=!1;o.$store.state.cartList=e,console.log(o.$store.state.cartList)}))}));case 6:case"end":return n.stop()}}),n)})))()}}};e.default=s}).call(this,n("543d")["default"])},fddb:function(t,e,n){"use strict";var a=n("4a30"),o=n.n(a);o.a}},[["7181","common/runtime","common/vendor"]]]);